import{S as go,i as Do,s as bo,U as zt,y as Po,z as xo,A as ko,V as Lo,W as vo,g as Co,d as Ao,B as So,X as yo,k as r,q as l,a as u,Y as Io,l as n,m as a,r as s,h as o,c as d,Z as To,n as F,b as p,D as t,E as No}from"../chunks/index.0f961b9d.js";import{P as Oo}from"../chunks/post_layout.5a8d2e95.js";function Go(z){let c,v,m,S,f,h,M,Re,ye,I,$,ze,_e,y,Me,b,$e,He,te,je,Ze,we,T,H,Ue,ge,_,j,Ye,oe,qe,Be,N,We,le,Ve,Xe,Je,Z,Ke,se,Qe,De,E,re,et,tt,ne,ot,lt,P,st,rt,be,U,nt,Pe,O,Y,at,xe,x,it,ae,pt,ct,ke,g,ie,ut,dt,k,ft,Ft,Le,w,L,ht,pe,mt,Et,C,vt,yt,D,_t,ce,wt,gt,ue,Dt,bt,Pt,de,xt,Ce,fe,wo=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" lua="true"><div class="language-id">lua</div><div class='code-container'><code><div class='line'><span style="color: #546E7A">-- file: lsp.lua</span></div><div class='line'><span style="color: #546E7A">-- lsp is require('lsp-zero')</span></div><div class='line'><span style="color: #546E7A">-- put this before calling lsp.setup()</span></div><div class='line'><span style="color: #EEFFFF">lsp.</span><span style="color: #82AAFF">configure</span><span style="color: #EEFFFF">(</span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">gdscript</span><span style="color: #89DDFF">'</span><span style="color: #EEFFFF">, &#123;</span></div><div class='line'><span style="color: #EEFFFF">    force_setup </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">true</span><span style="color: #EEFFFF">, </span><span style="color: #546E7A">-- because the LSP is global. Read more on lsp-zero docs about this.</span></div><div class='line'><span style="color: #EEFFFF">    single_file_support </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">false</span><span style="color: #EEFFFF">,</span></div><div class='line'><span style="color: #EEFFFF">    cmd </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> &#123;</span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">ncat</span><span style="color: #89DDFF">'</span><span style="color: #EEFFFF">, </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">127.0.0.1</span><span style="color: #89DDFF">'</span><span style="color: #EEFFFF">, </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">6008</span><span style="color: #89DDFF">'</span><span style="color: #EEFFFF">&#125;, </span><span style="color: #546E7A">-- the important trick for Windows!</span></div><div class='line'><span style="color: #EEFFFF">    root_dir </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> </span><span style="color: #82AAFF">require</span><span style="color: #EEFFFF">(</span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">lspconfig.util</span><span style="color: #89DDFF">'</span><span style="color: #EEFFFF">).</span><span style="color: #82AAFF">root_pattern</span><span style="color: #EEFFFF">(</span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">project.godot</span><span style="color: #89DDFF">'</span><span style="color: #EEFFFF">, </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">.git</span><span style="color: #89DDFF">'</span><span style="color: #EEFFFF">),</span></div><div class='line'><span style="color: #EEFFFF">    filetypes </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> &#123;</span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">gd</span><span style="color: #89DDFF">'</span><span style="color: #EEFFFF">, </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">gdscript</span><span style="color: #89DDFF">'</span><span style="color: #EEFFFF">, </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">gdscript3</span><span style="color: #89DDFF">' </span><span style="color: #EEFFFF">&#125;</span></div><div class='line'><span style="color: #EEFFFF">&#125;)</span></div></code></div></pre>`,Fe,G,q,kt,Ae,B,Lt,Se,A,he,Ct,At,W,St,me,It,Ie,V,Tt,Te,X,Nt;return{c(){c=r("p"),v=l("Setting up neovim with "),m=r("strong"),S=l("Godot"),f=l(` is not that hard. Probably very easy on linux,
but there are a few things to know to make it work on windows. Actually,
there’s `),h=r("em"),M=l("only"),Re=l(" one thing to know but it was hard to find."),ye=u(),I=r("h2"),$=r("a"),ze=l("My current LSP Setup with LSP Zero"),_e=u(),y=r("p"),Me=l(`I have no idea how it would work with another setup than mine so let me tell you
about how my LSP is set up. I use
`),b=r("a"),$e=l("lsp-zero"),He=l(`, and if you don’t use
it yet, `),te=r("em"),je=l("you should"),Ze=l(". It makes setting up LSP a breeze and still configurable."),we=u(),T=r("h2"),H=r("a"),Ue=l("Configure Godot external editor"),ge=u(),_=r("ol"),j=r("li"),Ye=l("In godot, go to "),oe=r("code"),qe=l("Editor > Editor Settings > Text Editor > External"),Be=u(),N=r("li"),We=l("In Exac path, set your path to "),le=r("code"),Ve=l("nvim.exe"),Xe=l(" (probably in Program Files)"),Je=u(),Z=r("li"),Ke=l("In exec flags, put "),se=r("code"),Qe=l('--server 127.0.0.1:55432 --remote-send "<C-\\><C-N>:n {file}<CR>:call cursor({line},{col})<CR>"'),De=u(),E=r("p"),re=r("strong"),et=l("You can customize the remote command sent to nvim"),tt=l(`, to target a line and column.
Like a did here with `),ne=r("em"),ot=l("call cursor"),lt=l(`.
The docs for the remote feature of neovim are available
`),P=r("a"),st=l("here"),rt=l("."),be=u(),U=r("p"),nt=l("This should be it for godot."),Pe=u(),O=r("h2"),Y=r("a"),at=l("IMPORTANT: Override LSP settings for gdscript to use netcat"),xe=u(),x=r("p"),it=l("For Linux, connecting to the lsp work with sockets, but "),ae=r("strong"),pt=l(`it does not work
on windows`),ct=l("."),ke=u(),g=r("p"),ie=r("strong"),ut=l("You need to override the cmd setting to use netcat instead"),dt=l(" ("),k=r("a"),ft=l(`which is also the cmd
for 0.8 nvim according to the source file`),Ft=l(")."),Le=u(),w=r("ul"),L=r("li"),ht=l("Download "),pe=r("strong"),mt=l("netcat"),Et=u(),C=r("a"),vt=l("from their website"),yt=u(),D=r("li"),_t=l("Add "),ce=r("code"),wt=l("ncat.exe"),gt=l(" to your Path ("),ue=r("code"),Dt=l("C:\\Program Files (x86)\\Nmap"),bt=l(" by default)"),Pt=u(),de=r("li"),xt=l("Add the following to wherever you set up your lsp in your nvim config:"),Ce=u(),fe=new Io(!1),Fe=u(),G=r("h2"),q=r("a"),kt=l("Launch nvim with –listen"),Ae=u(),B=r("p"),Lt=l(`Nvim comes with a remote feature. Before, you had to use something called (nvr)
but it is not needed anymore.`),Se=u(),A=r("ul"),he=r("li"),Ct=l("Navigate to your godot project folder"),At=u(),W=r("li"),St=l(`Run nvim from your terminal or whatever GUI you prefer with
`),me=r("code"),It=l("nvim --listen 127.0.0.1:55432 ."),Ie=u(),V=r("p"),Tt=l("Then, when you click on a script in Godot, it should open it in your nvim buffer."),Te=u(),X=r("p"),Nt=l("Enjoy making games with Neovim and Godot!"),this.h()},l(e){c=n(e,"P",{});var i=a(c);v=s(i,"Setting up neovim with "),m=n(i,"STRONG",{});var Mt=a(m);S=s(Mt,"Godot"),Mt.forEach(o),f=s(i,` is not that hard. Probably very easy on linux,
but there are a few things to know to make it work on windows. Actually,
there’s `),h=n(i,"EM",{});var $t=a(h);M=s($t,"only"),$t.forEach(o),Re=s(i," one thing to know but it was hard to find."),i.forEach(o),ye=d(e),I=n(e,"H2",{id:!0});var Ht=a(I);$=n(Ht,"A",{href:!0});var jt=a($);ze=s(jt,"My current LSP Setup with LSP Zero"),jt.forEach(o),Ht.forEach(o),_e=d(e),y=n(e,"P",{});var J=a(y);Me=s(J,`I have no idea how it would work with another setup than mine so let me tell you
about how my LSP is set up. I use
`),b=n(J,"A",{href:!0,rel:!0,target:!0});var Zt=a(b);$e=s(Zt,"lsp-zero"),Zt.forEach(o),He=s(J,`, and if you don’t use
it yet, `),te=n(J,"EM",{});var Ut=a(te);je=s(Ut,"you should"),Ut.forEach(o),Ze=s(J,". It makes setting up LSP a breeze and still configurable."),J.forEach(o),we=d(e),T=n(e,"H2",{id:!0});var Yt=a(T);H=n(Yt,"A",{href:!0});var qt=a(H);Ue=s(qt,"Configure Godot external editor"),qt.forEach(o),Yt.forEach(o),ge=d(e),_=n(e,"OL",{});var K=a(_);j=n(K,"LI",{});var Ot=a(j);Ye=s(Ot,"In godot, go to "),oe=n(Ot,"CODE",{});var Bt=a(oe);qe=s(Bt,"Editor > Editor Settings > Text Editor > External"),Bt.forEach(o),Ot.forEach(o),Be=d(K),N=n(K,"LI",{});var Ne=a(N);We=s(Ne,"In Exac path, set your path to "),le=n(Ne,"CODE",{});var Wt=a(le);Ve=s(Wt,"nvim.exe"),Wt.forEach(o),Xe=s(Ne," (probably in Program Files)"),Ne.forEach(o),Je=d(K),Z=n(K,"LI",{});var Gt=a(Z);Ke=s(Gt,"In exec flags, put "),se=n(Gt,"CODE",{});var Vt=a(se);Qe=s(Vt,'--server 127.0.0.1:55432 --remote-send "<C-\\><C-N>:n {file}<CR>:call cursor({line},{col})<CR>"'),Vt.forEach(o),Gt.forEach(o),K.forEach(o),De=d(e),E=n(e,"P",{});var R=a(E);re=n(R,"STRONG",{});var Xt=a(re);et=s(Xt,"You can customize the remote command sent to nvim"),Xt.forEach(o),tt=s(R,`, to target a line and column.
Like a did here with `),ne=n(R,"EM",{});var Jt=a(ne);ot=s(Jt,"call cursor"),Jt.forEach(o),lt=s(R,`.
The docs for the remote feature of neovim are available
`),P=n(R,"A",{href:!0,rel:!0,target:!0});var Kt=a(P);st=s(Kt,"here"),Kt.forEach(o),rt=s(R,"."),R.forEach(o),be=d(e),U=n(e,"P",{});var Qt=a(U);nt=s(Qt,"This should be it for godot."),Qt.forEach(o),Pe=d(e),O=n(e,"H2",{id:!0});var eo=a(O);Y=n(eo,"A",{href:!0});var to=a(Y);at=s(to,"IMPORTANT: Override LSP settings for gdscript to use netcat"),to.forEach(o),eo.forEach(o),xe=d(e),x=n(e,"P",{});var Oe=a(x);it=s(Oe,"For Linux, connecting to the lsp work with sockets, but "),ae=n(Oe,"STRONG",{});var oo=a(ae);pt=s(oo,`it does not work
on windows`),oo.forEach(o),ct=s(Oe,"."),Oe.forEach(o),ke=d(e),g=n(e,"P",{});var Ee=a(g);ie=n(Ee,"STRONG",{});var lo=a(ie);ut=s(lo,"You need to override the cmd setting to use netcat instead"),lo.forEach(o),dt=s(Ee," ("),k=n(Ee,"A",{href:!0,rel:!0,target:!0});var so=a(k);ft=s(so,`which is also the cmd
for 0.8 nvim according to the source file`),so.forEach(o),Ft=s(Ee,")."),Ee.forEach(o),Le=d(e),w=n(e,"UL",{});var Q=a(w);L=n(Q,"LI",{});var ve=a(L);ht=s(ve,"Download "),pe=n(ve,"STRONG",{});var ro=a(pe);mt=s(ro,"netcat"),ro.forEach(o),Et=d(ve),C=n(ve,"A",{href:!0,rel:!0,target:!0});var no=a(C);vt=s(no,"from their website"),no.forEach(o),ve.forEach(o),yt=d(Q),D=n(Q,"LI",{});var ee=a(D);_t=s(ee,"Add "),ce=n(ee,"CODE",{});var ao=a(ce);wt=s(ao,"ncat.exe"),ao.forEach(o),gt=s(ee," to your Path ("),ue=n(ee,"CODE",{});var io=a(ue);Dt=s(io,"C:\\Program Files (x86)\\Nmap"),io.forEach(o),bt=s(ee," by default)"),ee.forEach(o),Pt=d(Q),de=n(Q,"LI",{});var po=a(de);xt=s(po,"Add the following to wherever you set up your lsp in your nvim config:"),po.forEach(o),Q.forEach(o),Ce=d(e),fe=To(e,!1),Fe=d(e),G=n(e,"H2",{id:!0});var co=a(G);q=n(co,"A",{href:!0});var uo=a(q);kt=s(uo,"Launch nvim with –listen"),uo.forEach(o),co.forEach(o),Ae=d(e),B=n(e,"P",{});var fo=a(B);Lt=s(fo,`Nvim comes with a remote feature. Before, you had to use something called (nvr)
but it is not needed anymore.`),fo.forEach(o),Se=d(e),A=n(e,"UL",{});var Ge=a(A);he=n(Ge,"LI",{});var Fo=a(he);Ct=s(Fo,"Navigate to your godot project folder"),Fo.forEach(o),At=d(Ge),W=n(Ge,"LI",{});var Rt=a(W);St=s(Rt,`Run nvim from your terminal or whatever GUI you prefer with
`),me=n(Rt,"CODE",{});var ho=a(me);It=s(ho,"nvim --listen 127.0.0.1:55432 ."),ho.forEach(o),Rt.forEach(o),Ge.forEach(o),Ie=d(e),V=n(e,"P",{});var mo=a(V);Tt=s(mo,"Then, when you click on a script in Godot, it should open it in your nvim buffer."),mo.forEach(o),Te=d(e),X=n(e,"P",{});var Eo=a(X);Nt=s(Eo,"Enjoy making games with Neovim and Godot!"),Eo.forEach(o),this.h()},h(){F($,"href","#my-current-lsp-setup-with-lsp-zero"),F(I,"id","my-current-lsp-setup-with-lsp-zero"),F(b,"href","https://github.com/VonHeikemen/lsp-zero.nvim"),F(b,"rel","nofollow noopener noreferrer external"),F(b,"target","_blank"),F(H,"href","#configure-godot-external-editor"),F(T,"id","configure-godot-external-editor"),F(P,"href","https://neovim.io/doc/user/remote.html"),F(P,"rel","nofollow noopener noreferrer external"),F(P,"target","_blank"),F(Y,"href","#important-override-lsp-settings-for-gdscript-to-use-netcat"),F(O,"id","important-override-lsp-settings-for-gdscript-to-use-netcat"),F(k,"href","https://github.com/neovim/nvim-lspconfig/blob/master/lua/lspconfig/server_configurations/gdscript.lua"),F(k,"rel","nofollow noopener noreferrer external"),F(k,"target","_blank"),F(C,"href","https://nmap.org/ncat/"),F(C,"rel","nofollow noopener noreferrer external"),F(C,"target","_blank"),fe.a=Fe,F(q,"href","#launch-nvim-with-listen"),F(G,"id","launch-nvim-with-listen")},m(e,i){p(e,c,i),t(c,v),t(c,m),t(m,S),t(c,f),t(c,h),t(h,M),t(c,Re),p(e,ye,i),p(e,I,i),t(I,$),t($,ze),p(e,_e,i),p(e,y,i),t(y,Me),t(y,b),t(b,$e),t(y,He),t(y,te),t(te,je),t(y,Ze),p(e,we,i),p(e,T,i),t(T,H),t(H,Ue),p(e,ge,i),p(e,_,i),t(_,j),t(j,Ye),t(j,oe),t(oe,qe),t(_,Be),t(_,N),t(N,We),t(N,le),t(le,Ve),t(N,Xe),t(_,Je),t(_,Z),t(Z,Ke),t(Z,se),t(se,Qe),p(e,De,i),p(e,E,i),t(E,re),t(re,et),t(E,tt),t(E,ne),t(ne,ot),t(E,lt),t(E,P),t(P,st),t(E,rt),p(e,be,i),p(e,U,i),t(U,nt),p(e,Pe,i),p(e,O,i),t(O,Y),t(Y,at),p(e,xe,i),p(e,x,i),t(x,it),t(x,ae),t(ae,pt),t(x,ct),p(e,ke,i),p(e,g,i),t(g,ie),t(ie,ut),t(g,dt),t(g,k),t(k,ft),t(g,Ft),p(e,Le,i),p(e,w,i),t(w,L),t(L,ht),t(L,pe),t(pe,mt),t(L,Et),t(L,C),t(C,vt),t(w,yt),t(w,D),t(D,_t),t(D,ce),t(ce,wt),t(D,gt),t(D,ue),t(ue,Dt),t(D,bt),t(w,Pt),t(w,de),t(de,xt),p(e,Ce,i),fe.m(wo,e,i),p(e,Fe,i),p(e,G,i),t(G,q),t(q,kt),p(e,Ae,i),p(e,B,i),t(B,Lt),p(e,Se,i),p(e,A,i),t(A,he),t(he,Ct),t(A,At),t(A,W),t(W,St),t(W,me),t(me,It),p(e,Ie,i),p(e,V,i),t(V,Tt),p(e,Te,i),p(e,X,i),t(X,Nt)},p:No,d(e){e&&o(c),e&&o(ye),e&&o(I),e&&o(_e),e&&o(y),e&&o(we),e&&o(T),e&&o(ge),e&&o(_),e&&o(De),e&&o(E),e&&o(be),e&&o(U),e&&o(Pe),e&&o(O),e&&o(xe),e&&o(x),e&&o(ke),e&&o(g),e&&o(Le),e&&o(w),e&&o(Ce),e&&fe.d(),e&&o(Fe),e&&o(G),e&&o(Ae),e&&o(B),e&&o(Se),e&&o(A),e&&o(Ie),e&&o(V),e&&o(Te),e&&o(X)}}}function Ro(z){let c,v;const m=[z[0],_o];let S={$$slots:{default:[Go]},$$scope:{ctx:z}};for(let f=0;f<m.length;f+=1)S=zt(S,m[f]);return c=new Oo({props:S}),{c(){Po(c.$$.fragment)},l(f){xo(c.$$.fragment,f)},m(f,h){ko(c,f,h),v=!0},p(f,[h]){const M=h&1?Lo(m,[h&1&&vo(f[0]),h&0&&vo(_o)]):{};h&2&&(M.$$scope={dirty:h,ctx:f}),c.$set(M)},i(f){v||(Co(c.$$.fragment,f),v=!0)},o(f){Ao(c.$$.fragment,f),v=!1},d(f){So(c,f)}}}const _o={title:"Setting up Godot with Neovim on Windows",created:"2023-01-02T00:00:00.000Z",updated:"2023-01-02T00:00:00.000Z",tags:["Tutorial"],flags:[],slug:"/nvim-godot-solution/+page.md",path:"/nvim-godot-solution",toc:[{depth:2,title:"My current LSP Setup with LSP Zero",slug:"my-current-lsp-setup-with-lsp-zero"},{depth:2,title:"Configure Godot external editor",slug:"configure-godot-external-editor"},{depth:2,title:"IMPORTANT: Override LSP settings for gdscript to use netcat",slug:"important-override-lsp-settings-for-gdscript-to-use-netcat"},{depth:2,title:"Launch nvim with –listen",slug:"launch-nvim-with-listen"}]};function zo(z,c,v){return z.$$set=m=>{v(0,c=zt(zt({},c),yo(m)))},c=yo(c),[c]}class Ho extends go{constructor(c){super(),Do(this,c,zo,Ro,bo,{})}}export{Ho as default,_o as metadata};
